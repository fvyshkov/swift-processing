{
    "forms": {
        "lagalActListForm": {
            "title": "Список нормативно правовых актов",
            "className": "horizontal",
            "$": {
                ".list": {
                    "style": {
                        "width": "660px"
                    },
                    "control": "ListTable",
                    "controlOpts": {
                        "$": {
                            "name": {
                                "label": "Нормативно правовой акт",
                                "flex": 1,
                                "cellStyle": {
                                    "whiteSpace": "normal !important",
                                    "lineHeight": 1.2,
                                    "display": "flex",
                                    "alignItems": "center"
                                },
                                "compact": true
                            }
                        }
                    },
                    "controlProps": {
                        "gridOptions": {
                            "headerHeight": 0
                        }
                    }
                },
                "btnSelect": {
                    "label": "Выбрать",
                    "control": "Button",
                    "controlProps": {
                        "color": "primary"
                    },
                    "action": {
                        "js": "backend.post('/aoa/execObjectMethod', {object: 'legalAct', method: 'getItemList'}, {useCache: true}).then((r)=>frontend.dialog({object: 'legalAct', form: 'selectLegalActDialog', mem: {npalist: r.map((s)=>({...s, selected: !!mem.find((i)=>i.code==s.code)}))}}));"
                    }
                }
            },
            "actions": {
                "closeDialog": {
                    "jsScript": "dialog.actions.close();"
                },
                "applyDialog": {
                    "jsScript": "mem.splice(0, mem.length, ...dialog.mem.npalist.filter((s)=>s.selected)); dialog.actions.close();"
                }
            }
        },
        "selectLegalActDialog": {
            "title": "Выбор нормативно правового акта",
            "className": "vertical",
            "style": {
                "overflow": "hidden",
                "width": "800px"
            },
            "$": {
                "@fields": {
                    "className": "vertical",
                    "style": {
                        "paddingTop": "8px",
                        "overflowY": "auto"
                    },
                    "$": {
                        "|npalist": {
                            "control": "ListTable",
                            "controlOpts": {
                                "$": {
                                    "selected": {
                                        "label": "Выбран",
                                        "width": 100,
                                        "control": "checkbox"
                                    },
                                    "name": {
                                        "label": "Нормативно правовой акт",
                                        "flex": 1,
                                        "cellStyle": {
                                            "whiteSpace": "normal !important",
                                            "lineHeight": 1.2,
                                            "display": "flex",
                                            "alignItems": "center"
                                        }
                                    }
                                }
                            }
                        }
                    }
                },
                "@buttons": {
                    "className": "horizontal",
                    "style": {
                        "justifyContent": "end"
                    },
                    "$": {
                        "btnCancel": {
                            "label": "Отменить",
                            "control": "Button",
                            "controlProps": {
                                "variant": "text",
                                "color": "primary"
                            },
                            "action": {
                                "name": "closeDialog"
                            }
                        },
                        "btnApply": {
                            "label": "Выбрать",
                            "control": "Button",
                            "controlProps": {
                                "variant": "contained",
                                "color": "primary"
                            },
                            "action": {
                                "name": "applyDialog"
                            }
                        }
                    }
                }
            }
        }
    },
    "methods": {
        "getItemList": {
            "sql": {
                "params": [],
                "sql": "select \r\n  npa.code \"code\", \r\n  npa.longname \"name\"\r\nfrom colvir.U_UZ_NPA npa\r\nwhere npa.arcfl='0' and npa.arestfl='0'\r\norder by code",
                "sqlType": "query",
                "database": "bank"
            },
            "script": {
                "params": []
            }
        }
    },
    "references": {
        "default": {
            "form": {
                "style": {
                    "width": "1000px",
                    "height": "600px"
                },
                "columns": [
                    {
                        "title": "Код",
                        "field": "code",
                        "width": 320
                    },
                    {
                        "title": "Наименование",
                        "field": "name",
                        "flex": 1
                    }
                ],
                "primaryKey": "code"
            },
            "method": {
                "sql": {
                    "params": [
                        "code"
                    ],
                    "sql": "select \r\n  npa.code \"code\", \r\n  npa.longname \"name\"\r\nfrom colvir.U_UZ_NPA npa\r\nwhere nvl(:code, npa.code) = npa.code\r\n and npa.arcfl='0' and npa.arestfl='0'\r\norder by code",
                    "sqlType": "query",
                    "database": "bank"
                },
                "script": {
                    "params": []
                }
            }
        }
    },
    "lists": {},
    "js": {}
}