<?xml version="1.0" ?>
<model id="aoa.Object" name="Application object">
	<task path="/aoa/ObjectTask">
		<p name="object" expression="'aoa'"/>
		<p name="form" expression="'objectEditTask'"/>
		<p name="objectId" expression="objectId"/>
	</task>
	<description><![CDATA[description['code'] = obj.code
description['name'] = obj.name
description['file_name'] = '%s.%s' % (obj.code, 'json')
description['file_path'] = 'ao'
description['attrs'] = {
    'code': obj.code,
    'name': obj.name,
}]]></description>
	<load><![CDATA[]]></load>
	<export><![CDATA[
import json
file['data'] = json.dumps(obj.description, indent=4, ensure_ascii=False).replace('\r', '')
]]></export>
	<import><![CDATA[from beflex.aoa.models import Object
import json
import logging
logger = logging.getLogger('aos')
try:
    obj = Object.objects.get(id=object_id)
except Object.DoesNotExist:
    obj = Object()
    obj.id = object_id

obj.description = json.loads(file_data)
obj.code = object_attrs['code']
obj.name = object_attrs['name']
obj._isImport = True
obj.save()
]]></import>
	<lookup><![CDATA[]]></lookup>
</model>
